<template>
  <lightning-card title="Contact Search">
    <lightning-layout horizontal-align="space" vertical-align="end">
      <lightning-layout-item padding="horizontal-medium" size="8">
        <lightning-input label="Enter Contact Name" type="search" onchange={searchContact} value={searchKey}>
        </lightning-input>
      </lightning-layout-item>
      <!--<div class=”slds-clearfix”>
        <div class="slds-float_right">-->
          <lightning-layout-item padding="horizontal-medium" size="4">
            <lightning-button variant="brand" label="Search" title="Primary action" onclick={handleClick}>
            </lightning-button>
          </lightning-layout-item>
        <!--</div>
      </div>-->
      <br />
    </lightning-layout>
    <lightning-layout>
      <lightning-layout-item padding="around-small" size="8">
        <template if:true={showTable}>
          <div style={setTableHeight}>
          <lightning-datatable
          key-field="Id"
          data={contacts}
          columns={columns}
          onrowaction={handleRowAction}
          enable-infinite-loading
          onloadmore={loadMoreData}
          hide-checkbox-column="true"
          load-more-offset="5">
          </lightning-datatable>
        </div>
        </template>
        <br>
        <lightning-button variant="brand" label="Create Contact" title="Open Modal" onclick={showModalPopup} class="slds-m-left_x-small"></lightning-button>
      </lightning-layout-item>

      <lightning-layout-item padding="around-small" size="4">
        <template if:true={showInfo}>
          <img src={profilePic} width="100" height="100" onclick={navigateToContact}/>
          <p>{name}</p>
          <p>{title}</p>
          <p>{phone}</p>
          <p>{email}</p>
        </template>
      </lightning-layout-item>
    </lightning-layout>
  </lightning-card>
  <c-create-contact-modal
  show-modal={showModal}
  onclose={closeModal}
  record-id={recordId}></c-create-contact-modal>
</template>
